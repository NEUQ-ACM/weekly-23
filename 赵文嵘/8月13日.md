# week4å‘¨æŠ¥
----------------

### å­¦ä¹ ç¬”è®°
1. å®Œæˆäº†ä¸€ä¸ªç®€å•çš„JavaWebåç«¯æ ·ä¾‹ï¼Œå­¦ä¼šè§£å†³ä¸€äº›å®é™…é—®é¢˜ï¼Œå¦‚æ–‡ä»¶ä¸Šä¼ ã€ç™»å½•æ ¡éªŒã€å¼‚å¸¸å¤„ç†
2. å­¦ä¹ äº†Linuxçš„éƒ¨åˆ†åŸºæœ¬å‘½ä»¤åŠä½¿ç”¨ï¼Œäº†è§£äº†ç”¨æˆ·æƒé™ç›¸å…³çŸ¥è¯†
3. å­¦ä¹ äº†RedisåŸºç¡€å‘½ä»¤ä»¥åŠåœ¨Javaä¸­è¿æ¥Redisï¼Œå¹¶æŒæ¡éƒ¨åˆ†é€šè¿‡Javaç«¯æ“æ§RedisçŸ¥è¯†
<br />[ğŸ‘‰ç¬”è®°æ–‡æ¡£ğŸ‘ˆ](https://github.com/Vetalihwei/note)

### éš¾é¢˜ä»¥åŠè§£å†³æ–¹æ³•
1. ç›®å‰æœ€å¤§é—®é¢˜æ˜¯æ‰€å­¦çŸ¥è¯†å¾ˆå¤šï¼Œå®é™…æ¡ˆä¾‹åšå¾—å°‘ï¼Œå¯¹æ‰€å­¦çŸ¥è¯†åº”ç”¨å¾—å°‘ï¼Œä¸ä¾¿äºæŒæ¡ï¼Œè¿˜éœ€å¤šå¤šåŠªåŠ›ï¼Œå¤šå¤šå¤ä¹ å·©å›º

### leetcodeåˆ·é¢˜

#### I.[ä¹°è‚¡ç¥¨æœ€ä½³æ—¶æœº](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/)


**æ€è·¯**<br>
- åˆ†æè§„å¾‹å¯ä»¥å‘ç°ï¼Œåªè¦å–é€’å¢å­æ•°ç»„é¦–å°¾å…ƒç´ ç›¸å‡ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯è·åˆ©çš„ï¼Œé‡‡å–è´ªå¿ƒæ€æƒ³ï¼Œå°†æ•°ç»„æ‹†åˆ†æˆå¤šä¸ª**è¿ç»­**é€’å¢æ•°ç»„ï¼Œåˆ™æœ€å¤§åˆ©æ¶¦åˆ™ä¸ºè¿™äº›è¿ç»­é€’å¢å­æ•°ç»„é¦–ä½å…ƒç´ ç›¸å‡çš„å’Œ
- ä¾‹å¦‚ï¼š[7,1,5,3,6,4],è¿ç»­é€’å¢å­æ•°ç»„ä¸º[1,5],[3,6]ï¼Œé‚£ä¹ˆæœ€å¤§åˆ©æ¶¦å°±æ˜¯(5-1)+(6-3)=7


**ä»£ç **
```java
class Solution {
    public int maxProfit(int[] prices) {
        int ans=0;
        int last=0,first=prices[0];
        //lastè®°å½•å‰ä¸€å¤©ä»·æ ¼,firstè®°å½•è¿ç»­é€’å¢å­åºåˆ—é¦–å…ƒç´ 
        for(int p:prices){
            if(p>last){
                last=p;
            }
            else {
                if(last-first>=0)//è´Ÿåˆ©æ¶¦ä¸è€ƒè™‘
                ans+=last-first;
                first=p;
                last=p;
            }
        }
        //å¯¹pricesæ•°ç»„æœ€åå…ƒç´ è¿›è¡Œå¤„ç†ï¼Œå› ä¸ºå½“æœ€åä¸€ä¸ªè¿ç»­é€’å¢å­æ•°ç»„ä¸€ç›´é€’å¢æ—¶æ— æ³•è§¦å‘elseå†…å®¹
        if(prices[prices.length-1]==last&&last-first>=0){
            ans+=last-first;
        }
        System.out.println(ans);
        return ans;
    }
}
```

#### II.[è¡Œç¨‹å’Œç”¨æˆ·](https://leetcode.cn/problems/trips-and-users/description/)

**æ€è·¯**<br>
- åˆ†æé¢˜ç›®è¦æ±‚ï¼Œéœ€è¦æˆ‘ä»¬è®¡ç®—è¢«ébanç”¨æˆ·å–æ¶ˆçš„è®¢å•æ•°/ébanç”¨æˆ·ç”Ÿæˆçš„è®¢å•æ•°ï¼Œæ ¹æ®æ—¥æœŸåˆ†ç±»ï¼Œä¸”åœ¨"2013-10-01" è‡³ "2013-10-03" æœŸé—´ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªéœ€å»é™¤è¢«banç”¨æˆ·åæ ¹æ®æ—¥æœŸåˆ†ç±»ï¼Œç»Ÿè®¡å–æ¶ˆè®¢å•ï¼Œç„¶åé™¤ä»¥count(*)å†å››èˆäº”å…¥å³å¯è§£å†³ã€‚
- å»é™¤è¢«banç”¨æˆ·æˆ‘ä»¬å¯ä»¥å°†usersè¡¨ä¸­è¢«banç”¨æˆ·é€‰å‡ºï¼Œç„¶åè¿æ¥è‡³tripsè¡¨ï¼Œç­›é€‰å‡ºbannedä¸ºnullå³å¯å»é™¤è¢«banç”¨æˆ·ï¼Œè€Œç»Ÿè®¡å–æ¶ˆçš„è®¢å•æˆ‘ä»¬å¯ä»¥åˆ©ç”¨sumä¸ifç»“åˆï¼Œè‹¥statusæ¨¡ç³ŠåŒ¹é…cancelled%æˆåŠŸåˆ™è¿”å›1ï¼Œå¦åˆ™0

```sql
select request_at Day,round(sum(if(status like 'cancelled%',1,0))/count(*),2) "Cancellation Rate"
from(
  select distinct id,status,request_at 
  from
    trips t1
    left join
    (select users_id,banned from users where banned = 'Yes') t2
    on client_id=users_id or driver_id=users_id
  where banned is null and request_at between '2013-10-01' and '2013-10-03') t3
group by request_at
```